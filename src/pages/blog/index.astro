---
// layout
import BaseLayout from "@layouts/BaseLayout.astro";

// components
import PostCardFull from "@components/PostCard/PostCardFull.astro";
import CategoryCloud from "@components/CategoryCloud/CategoryCloud.astro";
import Search from "astro-pagefind/components/Search";

// utils
import { getAllPosts } from "@js/blogUtils";

const posts = await getAllPosts();
---

<BaseLayout
    title="Monica Miller's Blog"
    description="Learn from Monica Miller's blog posts about Data Engineering, Modern Data Stack Architecture, and more!"
>
    <section class="container pt-36 md:pt-44">
        <!-- Header -->
        <div class="mx-auto max-w-4xl text-center">
            <h1 class="h1">
                Helpful tips from <span class="text-primary-600">Moni</span>
            </h1>
            <p class="mt-4 text-lg opacity-80 md:text-xl">
                Data Engineering, Modern Data Stack, and more
            </p>
        </div>

        <!-- Category filters -->
        <div class="mt-12 flex justify-center">
            <CategoryCloud />
        </div>

        <!-- Search -->
        <div class="mt-8 flex justify-center">
            <div class="w-full max-w-2xl">
                <Search id="search" className="pagefind-ui" />
            </div>
        </div>

        <!-- Posts grid -->
        <div class="mx-auto mt-16 max-w-6xl md:mt-20">
            <div class="grid gap-8 md:gap-12">
                {
                    posts.map((post) => (
                        <PostCardFull post={post} showDescription={true} />
                    ))
                }
            </div>
        </div>
    </section>
</BaseLayout>
