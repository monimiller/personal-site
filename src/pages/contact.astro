---
// main layout
import BaseLayout from "@layouts/BaseLayout.astro";

// components
import ContactForm from "@components/ContactForm/ContactForm.astro";

// data
import siteData from "@config/siteData.json";
---

<BaseLayout
    title="Contact Moni"
    description="Get in touch! Contact Monica Miller"
>
    <div class="container mx-auto pt-36 md:pt-44">
        <h1 class="h1 text-center">Contact Moni</h1>
        <p class="description mx-auto mt-6 max-w-2xl text-center">
            When you fill out the form below, we will contact you to set up a
            time. We look forward to meeting you!
        </p>
        <div class="mt-20 grid gap-8 lg:grid-cols-3">
            <!-- Contact info -->
            <div class="hidden flex-col lg:flex">
                <!-- gap to align with h2 of contact form -->
                <div class="h2 opacity-0">-</div>

                <!-- contact info pulled from siteData.json -->
                <h3 class="mb-2 mt-4 text-lg font-medium">
                    Location & Contact
                </h3>
                <p>{siteData.contact.address1}</p>
                <p>{siteData.contact.address2}</p>
                <p>
                    Ph: <a
                        href={`tel:${siteData.contact.phone}`}
                        class="transition hover:text-primary-500 hover:underline"
                        >{siteData.contact.phone}</a
                    >
                </p>
                <a
                    href="mailto:example@email.com"
                    class="transition hover:text-primary-500 hover:underline"
                    >{siteData.contact.email}</a
                >
            </div>

            <!-- contact form -->
            <div class="lg:col-span-2">
                <ContactForm />
            </div>
            <div class="lg:col-span-2">
                <!-- Cal inline embed code begins -->
                <div
                    style="width:100%;height:100%;overflow:scroll"
                    id="my-cal-inline"
                >
                </div>
                <script type="text/javascript">
                    (function (C, A, L) {
                        let p = function (a, ar) {
                            a.q.push(ar);
                        };
                        let d = C.document;
                        C.Cal =
                            C.Cal ||
                            function () {
                                let cal = C.Cal;
                                let ar = arguments;
                                if (!cal.loaded) {
                                    cal.ns = {};
                                    cal.q = cal.q || [];
                                    d.head.appendChild(
                                        d.createElement("script"),
                                    ).src = A;
                                    cal.loaded = true;
                                }
                                if (ar[0] === L) {
                                    const api = function () {
                                        p(api, arguments);
                                    };
                                    const namespace = ar[1];
                                    api.q = api.q || [];
                                    typeof namespace === "string"
                                        ? (cal.ns[namespace] = api) &&
                                          p(api, ar)
                                        : p(cal, ar);
                                    return;
                                }
                                p(cal, ar);
                            };
                    })(window, "https://app.cal.com/embed/embed.js", "init");
                    Cal("init", { origin: "https://cal.com" });

                    Cal("inline", {
                        elementOrSelector: "#my-cal-inline",
                        calLink: "edmundmiller?littlelink",
                        layout: "month_view",
                    });

                    Cal("ui", {
                        styles: { branding: { brandColor: "#f97316" } },
                        hideEventTypeDetails: true,
                        layout: "month_view",
                    });
                </script>
                <!-- Cal inline embed code ends -->
            </div>
        </div>
    </div>
</BaseLayout>
